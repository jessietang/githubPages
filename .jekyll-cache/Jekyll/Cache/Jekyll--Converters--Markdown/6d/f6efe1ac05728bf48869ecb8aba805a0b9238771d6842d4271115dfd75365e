I"<h4 id="è®²åŒºåˆ«ä¹‹å‰å…ˆè®²ä¸€ä¸‹ä¸‰è€…çš„å…±åŒç‚¹">è®²åŒºåˆ«ä¹‹å‰ï¼Œå…ˆè®²ä¸€ä¸‹ä¸‰è€…çš„å…±åŒç‚¹ï¼š</h4>
<blockquote>
  <ol>
    <li>éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ã€‚</li>
    <li>ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ã€‚</li>
    <li>éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ã€‚</li>
  </ol>
</blockquote>

<h4 id="ä¸‰è€…çš„åŒºåˆ«">ä¸‰è€…çš„åŒºåˆ«ï¼š</h4>
<blockquote>
  <ol>
    <li>call/applyéƒ½æ˜¯å¯¹å‡½æ•°çš„ç›´æ¥è°ƒç”¨ã€‚äºŒè€…ä¼ å‚æœ‰åŒºåˆ«ã€‚ call(this,arg1,arg2,â€¦)  /  apply(this,[arg1,arg2,â€¦])</li>
    <li>bindå‡½æ•°è¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ã€åé¢å†™ä¸€ä¸ªbindå‡½æ•°çš„å®ç°ã€‘<br /> bind(thisArgs, arg1, arg2, â€¦)</li>
  </ol>
</blockquote>

<p>Â </p>

<h4 id="1-å…ˆæ¥è¯´è¯´bindå‡½æ•°">1. å…ˆæ¥è¯´è¯´bindå‡½æ•°</h4>

<p>bindå‡½æ•°çš„å‡ ç§å¸¸è§ç”¨æ³•ï¼š</p>

<ol>
  <li>åå‡½æ•°ã€‚ä½¿ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰é¢„è®¾çš„åˆå§‹å‚æ•°ã€‚</li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">x+y</span><span class="dl">'</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">add1</span> <span class="o">=</span> <span class="nx">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// x+y 3</span>

<span class="kd">var</span> <span class="nx">add2</span> <span class="o">=</span> <span class="nx">add</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="nx">add2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// x+y 100+1 = 101  ç¬¬äºŒä¸ªå‚æ•°2æ— æ•ˆ</span>
</code></pre></div></div>

<ol>
  <li>æ”¹å˜thisæŒ‡å‘</li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ window.setTimeout() æ—¶ï¼Œthis å…³é”®å­—ä¼šæŒ‡å‘ window ï¼ˆæˆ– globalï¼‰å¯¹è±¡ã€‚</span>
<span class="c1">// å½“ç±»çš„æ–¹æ³•ä¸­éœ€è¦ this æŒ‡å‘ç±»çš„å®ä¾‹æ—¶ï¼Œä½ å¯èƒ½éœ€è¦æ˜¾å¼åœ°æŠŠ this ç»‘å®šåˆ°å›è°ƒå‡½æ•°ï¼Œå°±ä¸ä¼šä¸¢å¤±è¯¥å®ä¾‹çš„å¼•ç”¨ã€‚</span>
<span class="kd">function</span> <span class="nx">Test</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">}</span>
<span class="nx">Test</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">boom</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">declare</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span> <span class="mi">1000</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">Test</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">declare</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="k">this</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">test</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Test</span><span class="p">()</span>
<span class="nx">test</span><span class="p">.</span><span class="nx">boom</span><span class="p">()</span> <span class="c1">// 1 Test{x: 1}</span>
</code></pre></div></div>

:ET