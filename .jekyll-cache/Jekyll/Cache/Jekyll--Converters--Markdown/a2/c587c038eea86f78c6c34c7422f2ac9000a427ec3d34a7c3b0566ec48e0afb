I"<h3 id="éœ€æ±‚æè¿°">éœ€æ±‚æè¿°</h3>

<p>å­˜åœ¨ä¸€ä¸ª json tree å½¢æ•°æ®ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var treeData = [
    {
        id: 'root',
        name: 'é£Ÿç‰©',
        children: [
            {
                id: '1',
                name: 'æ°´æœ',
                children: [
                    {
                        id: '1-1',
                        name: 'æ°´æœ-è‹¹æœ',
                        children: []
                    },
                    {
                        id: '1-2',
                        name: 'é¦™è•‰',
                        children: []
                    }
                ]
            },
            {
                id: '2',
                name: 'ä¸»é£Ÿ',
                children: [
                    {
                        id: '2-1',
                        name: 'ä¸»é£Ÿ-ç±³é¥­',
                        children: []
                    },
                    {
                        id: '2-2',
                        name: 'é¢æ¡',
                        children: []
                    },
                    {
                        id: '2-3',
                        name: 'ç±³çº¿',
                        children: []
                    }
                ]
            },
            {
                id: '3',
                name: 'é›¶é£Ÿ',
                children: [
                    {
                        id: '3-1',
                        name: 'ç“œå­',
                        children: []
                    },
                    {
                        id: '3-2',
                        name: 'èŠ±ç”Ÿ',
                        children: []
                    },
                    {
                        id: '3-3',
                        name: 'èš•è±†',
                        children: []
                    }
                ]
            }
        ]
    }
]
</code></pre></div></div>

<p>è¾“å…¥æ¡†æœç´¢å…³é”®è¯ï¼Œå¦‚ï¼šâ€œæ°´æœâ€ï¼Œä¸€æ—¦å‘ç°æŸä¸€å±‚çº§çš„ name åŒ¹é…ä¸Šäº†å…³é”®è¯ï¼Œåˆ™è¿”å›è¿™ä¸€å±‚çº§ä»¥åŠä»–çš„æ‰€æœ‰å­å…ƒç´ ã€‚
è¿”å›çš„æ•°æ®åº”è¯¥å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var searchResult = [
    {
        id: 'root',
        name: 'é£Ÿç‰©',
        children: [
            {
                id: '1',
                name: 'æ°´æœ',
                children: [
                    {
                        id: '1-1',
                        name: 'æ°´æœ-è‹¹æœ',
                        children: []
                    },
                    {
                        id: '1-2',
                        name: 'é¦™è•‰',
                        children: []
                    }
                ]
            }
    }
]
</code></pre></div></div>

<p>ç®—æ³•å¦‚ä¸‹ï¼š</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    // tree search
    handleTreeData(treeData, searchValue) {
      if (!treeData || treeData.length === 0) {
        return [];
      }
      const array = [];
      for (let i = 0; i &lt; treeData.length; i += 1) {
        const nodeName = treeData[i].name.toLowerCase()
        const searchName = searchValue.toLowerCase()
        if (this.handleTreeData(treeData[i].children, searchValue).length &gt; 0 || nodeName.includes(searchName)) {
          let obj = {
            ...treeData[i]
          }
          if(!nodeName.includes(searchName)){
            // çˆ¶èŠ‚ç‚¹nameä¸åŒ…å«searchVal,åˆ™ç»§ç»­æŸ¥æ‰¾ã€‚å¦åˆ™ï¼Œå­èŠ‚ç‚¹ä¸ç”¨æŸ¥æ‰¾ï¼ŒæŠŠçˆ¶èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹çš„childrenç›´æ¥è¿”å›
            obj.children = this.handleTreeData(treeData[i].children, searchValue)
          }
          array.push(obj)
        }
      }
      return array;
    }
</code></pre></div></div>
:ET